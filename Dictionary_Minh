mport java.io.*;
import java.util.ArrayList;
import java.util.Scanner;
public class DictionaryManagement {
    // nhap du lieu
    public static ArrayList<Word> data = new ArrayList<Word>();
//    static void insertFromCommandline(Word[] data){
//          Scanner sc = new Scanner(System.in);
//          System.out.print("word: ");
//          data[0].setWordtarget(sc.nextLine());
//          sc.nextLine();
//          System.out.print("mean: ");
//          data[0].setMean(sc.nextLine());
//          data[0].display();
//
//    }
    // doc du lieu tu file
    public void insertFromFile(){
        try{
            FileInputStream inFile = new FileInputStream("C:\\Users\\home\\IdeaProjects\\Dictionary\\Dictionary.txt");
            InputStreamReader fileReader = new InputStreamReader(inFile);
            BufferedReader reader = new BufferedReader(fileReader);

            int ch = 0;

            //while ((ch = reader.read()) != 0) {
                String line = null;
                while ((line = reader.readLine()) != null) {
                    Word w = new Word();
                    String[] empty = line.split(" /", 2);
                    if(empty.length == 2) {
                        //System.out.println(empty[1]);
                        w.setWordtarget(empty[0]);
                        w.setPronounce(empty[1]);
                    }
                    line = reader.readLine();
                    String emptyMean = "";
                    String minh = "";
                    while((line != null)) {
                        String[] arr =line.split(" ");
                        //System.out.println(emptyMean);
                        if(arr.length < 2) break;
                        emptyMean += line;
                        emptyMean += ";";
                        line = reader.readLine();
                    }



                    w.setMean(emptyMean);
                    data.add(w);
                }
            //}
            //data.get(0).display();

            reader.close();
            fileReader.close();
            inFile.close();
        }
        catch(IOException e){
            e.printStackTrace();
            System.out.println("ngu");
            }
    }
    //them du lieu
    public static void addWord() {
        try {
            FileWriter writer = new FileWriter("C:\\Users\\home\\IdeaProjects\\Dictionary\\Dictionary.txt", true);
            Scanner sc = new Scanner(System.in);
            Word word = new Word();
            System.out.print("word: ");
            word.setWordtarget(sc.nextLine());
            data.add(word);
            sc.nextLine();
            System.out.print("mean: ");
            word.setMean(sc.nextLine());
            data.add(word);
            writer.append("\n");
            writer.append(word.getWordtarget());
            writer.append("\t");
            writer.append(word.getMean());
            writer.close();
        }
        catch (IOException e){
            e.printStackTrace();

        }
    }
    //xoa du lieu
    public static void DelWord(){

    }
    //chuan hoa tu
    public static void main(String[] args){
//        Word w = new Word("English", "VietNamese");
//        data.add(w);
//        data.get(0).display();
        //insertFromCommandline(data);
        DictionaryManagement    dic = new DictionaryManagement();
        dic.insertFromFile();
        for(int i = 0; i < data.size(); i++){
            data.get(i).display();
        }
        System.out.println(data.size());
        data.clear();;
        //dic.addWord();
    }
}
